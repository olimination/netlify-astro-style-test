<script>
  import jQuery from "jquery";
  import Header from "./header.js";

  jQuery(() => {
    Header(jQuery, "header").init();
  });
</script>

<header class="pb-4 pt-0 pt-md-4 menu-button">
  <div class="container-fluid py-5 px-xxl-5">
    <div class="row">
      <div class="col-6"></div>
      <div class="col-6 toggle-main-navigation-container">
        <div
          class="header-toggle-main-navigation position-fixed scroll-reveal"
          data-cursor-stick
          data-cursor="-pointer"
          data-cursor-text="menu"
        >
          <div class="burger-button">
            <div class="line"></div>
            <div class="line"></div>
          </div>
        </div>
      </div>
    </div>
  </div>
</header>

<style lang="scss">
  @import "../../../styles/variables";

  header.hidden {
    top: 0px;
  }

  header.menu-button {
    position: fixed;
    z-index: 300;
    width: 100%;
    line-height: 1.5rem;
    top: 0;
    left: 0;
    min-width: 320px;
    pointer-events: none;
    mix-blend-mode: exclusion;

    .header-toggle-main-navigation {
      right: calc(var(--bs-gutter-x) * 0.5);
      margin-right: calc(var(--bs-gutter-x) * 1);
      pointer-events: all;
      position: fixed;
      z-index: 300;
      height: 1.5rem;
      width: 3rem;
      -webkit-transition: all 0.3s ease-in-out;
      -moz-transition: all 0.3s ease-in-out;
      -ms-transition: all 0.3s ease-in-out;
      -o-transition: all 0.3s ease-in-out;
      transition: all 0.3s ease-in-out;
      color: #1c1f23;
      cursor: pointer;

      .burger-button {
        width: 3rem;
        height: 3rem;
        top: 50%;
        position: relative;
        transform: translate(0, -50%);
        .line {
          width: 100%;
          height: 5px;
          background: #fff;
          position: absolute;
          transition: all 0.3s ease-in-out;
          &:nth-child(1) {
            left: 0;
            top: calc(50% - 0.7rem);
          }
          &:nth-child(2) {
            right: 0;
            bottom: calc(50% - 0.7rem);
          }
        }
      }
    }

    .header-toggle-main-navigation.close-me {
      .burger-button {
        .line {
          width: 100%;
          &:nth-child(1) {
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%) rotate(-135deg);
          }
          &:nth-child(2) {
            top: 50%;
            right: 50%;
            transform: translate(50%, -50%) rotate(135deg);
          }
        }
        &:hover {
          .line {
            width: 80%;
          }
        }
      }
    }

    .header-toggle-main-navigation:hover:before {
      height: 7.5rem;
      width: 7.5rem;
      top: -3rem;
      left: -2.25rem;
      cursor: pointer;
      background-color: #1c1f23;
      color: rgba(255, 255, 255, 1);
    }
  }

  /* Darkmode */
  body.darkmode .header-toggle-main-navigation:hover:before {
    background-color: #ffffff !important;
    color: #1c1f23 !important;
  }

  body.darkmode .header-toggle-main-navigation .cls-1 {
    stroke: #ffffff !important;
  }

  @media (min-width: 1400px) {
    header.menu-button {
      .header-toggle-main-navigation {
        margin-right: calc(var(--bs-gutter-x) * 1.5);
      }
    }
  }

  @media (min-width: 768px) {
    .header-toggle-main-navigation:not(.close-me) {
      &:hover {
        .line {
          height: 4px;
          width: 70%;

          &:nth-child(1) {
            left: -0.2rem;
            top: calc(50% - 1.2rem);
          }
          &:nth-child(2) {
            right: -0.2rem;
            bottom: calc(50% - 1.2rem);
          }
        }
      }
    }
  }
</style>
